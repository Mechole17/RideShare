{% extends 'dashboard_app/dashboard.html' %}
{% load static %}

    {% block title %}Find Rides{% endblock %}
    {% block content %}
    <link rel="stylesheet" href="{% static 'css/find_rides.css' %}">
        <div class="find-rides-container">
            <!-- Page Header -->
            <div class="page-header">
                <h1>
                    <i class="fa-solid fa-magnifying-glass-location"></i>
                    Find Rides
                </h1>
                <p>Search for available rides and connect with fellow students heading your way.</p>
            </div>

            <!-- Search Section -->
            <div class="search-card">
                <form id="searchForm" class="search-form">
                    <div class="search-group">
                        <label for="searchPickup">Pickup Location</label>
                        <input 
                            type="text" 
                            id="searchPickup" 
                            class="search-input" 
                            placeholder="e.g., Upper Greenbelt"
                        >
                    </div>

                    <div class="search-group">
                        <label for="searchDestination">Destination</label>
                        <input 
                            type="text" 
                            id="searchDestination" 
                            class="search-input" 
                            placeholder="e.g., CIT-U Front Gate"
                        >
                    </div>

                    <div class="search-group">
                        <label for="searchDate">Date</label>
                        <input 
                            type="date" 
                            id="searchDate" 
                            class="search-input"
                        >
                    </div>

                    <div class="search-group">
                        <label for="searchVehicle">Vehicle Type</label>
                        <select id="searchVehicle" class="search-select">
                            <option value="">All Vehicles</option>
                            <option value="car">Car</option>
                            <option value="motorcycle">Motorcycle</option>
                        </select>
                    </div>

                    <button type="submit" class="btn-search">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        Search
                    </button>
                </form>
            </div>

            <!-- Results Header -->
            <div class="results-header">
                <h2>Available Rides</h2>
                <span class="results-count" id="resultsCount">Showing 5 rides</span>
            </div>

            <!-- Rides Grid -->
            <div class="rides-grid" id="ridesGrid">
                <!-- Ride Card 1 -->
                <div class="ride-card">
                    <div class="ride-info">
                        <div class="ride-header">
                            <div class="driver-avatar">MJ</div>
                            <div class="driver-details">
                                <div class="driver-name">Maria Johnson</div>
                                <span class="vehicle-badge">
                                    <i class="fa-solid fa-car"></i>
                                    Car
                                </span>
                            </div>
                        </div>

                        <div class="ride-route">
                            <div class="location">
                                <span class="location-label">From</span>
                                <span class="location-name">Upper Greenbelt</span>
                            </div>
                            <i class="fa-solid fa-arrow-right route-arrow"></i>
                            <div class="location">
                                <span class="location-label">To</span>
                                <span class="location-name">CIT-U Front Gate</span>
                            </div>
                        </div>

                        <div class="ride-meta">
                            <div class="meta-item">
                                <i class="fa-regular fa-calendar"></i>
                                <span>Oct 13, 2025</span>
                            </div>
                            <div class="meta-item">
                                <i class="fa-regular fa-clock"></i>
                                <span>7:30 AM</span>
                            </div>
                        </div>
                    </div>

                    <div class="ride-actions">
                        <div class="seats-available">
                            <i class="fa-solid fa-user-group"></i>
                            <span>3 seats left</span>
                        </div>
                        <button class="btn-request">
                            <i class="fa-solid fa-paper-plane"></i>
                            Request Ride
                        </button>
                    </div>
                </div>

                <!-- Ride Card 2 -->
                <div class="ride-card">
                    <div class="ride-info">
                        <div class="ride-header">
                            <div class="driver-avatar">JD</div>
                            <div class="driver-details">
                                <div class="driver-name">John Dela Cruz</div>
                                <span class="vehicle-badge">
                                    <i class="fa-solid fa-motorcycle"></i>
                                    Motorcycle
                                </span>
                            </div>
                        </div>

                        <div class="ride-route">
                            <div class="location">
                                <span class="location-label">From</span>
                                <span class="location-name">Basak</span>
                            </div>
                            <i class="fa-solid fa-arrow-right route-arrow"></i>
                            <div class="location">
                                <span class="location-label">To</span>
                                <span class="location-name">CIT-U Main Campus</span>
                            </div>
                        </div>

                        <div class="ride-meta">
                            <div class="meta-item">
                                <i class="fa-regular fa-calendar"></i>
                                <span>Oct 13, 2025</span>
                            </div>
                            <div class="meta-item">
                                <i class="fa-regular fa-clock"></i>
                                <span>8:00 AM</span>
                            </div>
                        </div>
                    </div>

                    <div class="ride-actions">
                        <div class="seats-available">
                            <i class="fa-solid fa-user-group"></i>
                            <span>1 seat left</span>
                        </div>
                        <button class="btn-request">
                            <i class="fa-solid fa-paper-plane"></i>
                            Request Ride
                        </button>
                    </div>
                </div>

                <!-- Ride Card 3 -->
                <div class="ride-card">
                    <div class="ride-info">
                        <div class="ride-header">
                            <div class="driver-avatar">AS</div>
                            <div class="driver-details">
                                <div class="driver-name">Anna Santos</div>
                                <span class="vehicle-badge">
                                    <i class="fa-solid fa-car"></i>
                                    Car
                                </span>
                            </div>
                        </div>

                        <div class="ride-route">
                            <div class="location">
                                <span class="location-label">From</span>
                                <span class="location-name">Ayala Center</span>
                            </div>
                            <i class="fa-solid fa-arrow-right route-arrow"></i>
                            <div class="location">
                                <span class="location-label">To</span>
                                <span class="location-name">CIT-U Back Gate</span>
                            </div>
                        </div>

                        <div class="ride-meta">
                            <div class="meta-item">
                                <i class="fa-regular fa-calendar"></i>
                                <span>Oct 14, 2025</span>
                            </div>
                            <div class="meta-item">
                                <i class="fa-regular fa-clock"></i>
                                <span>6:45 AM</span>
                            </div>
                        </div>
                    </div>

                    <div class="ride-actions">
                        <div class="seats-available">
                            <i class="fa-solid fa-user-group"></i>
                            <span>2 seats left</span>
                        </div>
                        <button class="btn-request">
                            <i class="fa-solid fa-paper-plane"></i>
                            Request Ride
                        </button>
                    </div>
                </div>

                <!-- Ride Card 4 -->
                <div class="ride-card">
                    <div class="ride-info">
                        <div class="ride-header">
                            <div class="driver-avatar">RL</div>
                            <div class="driver-details">
                                <div class="driver-name">Rico Lopez</div>
                                <span class="vehicle-badge">
                                    <i class="fa-solid fa-car"></i>
                                    Car
                                </span>
                            </div>
                        </div>

                        <div class="ride-route">
                            <div class="location">
                                <span class="location-label">From</span>
                                <span class="location-name">Lahug</span>
                            </div>
                            <i class="fa-solid fa-arrow-right route-arrow"></i>
                            <div class="location">
                                <span class="location-label">To</span>
                                <span class="location-name">CIT-U Front Gate</span>
                            </div>
                        </div>

                        <div class="ride-meta">
                            <div class="meta-item">
                                <i class="fa-regular fa-calendar"></i>
                                <span>Oct 14, 2025</span>
                            </div>
                            <div class="meta-item">
                                <i class="fa-regular fa-clock"></i>
                                <span>7:15 AM</span>
                            </div>
                        </div>
                    </div>

                    <div class="ride-actions">
                        <div class="seats-available">
                            <i class="fa-solid fa-user-group"></i>
                            <span>4 seats left</span>
                        </div>
                        <button class="btn-request">
                            <i class="fa-solid fa-paper-plane"></i>
                            Request Ride
                        </button>
                    </div>
                </div>

                <!-- Ride Card 5 -->
                <div class="ride-card">
                    <div class="ride-info">
                        <div class="ride-header">
                            <div class="driver-avatar">LT</div>
                            <div class="driver-details">
                                <div class="driver-name">Lisa Tan</div>
                                <span class="vehicle-badge">
                                    <i class="fa-solid fa-motorcycle"></i>
                                    Motorcycle
                                </span>
                            </div>
                        </div>

                        <div class="ride-route">
                            <div class="location">
                                <span class="location-label">From</span>
                                <span class="location-name">Capitol Site</span>
                            </div>
                            <i class="fa-solid fa-arrow-right route-arrow"></i>
                            <div class="location">
                                <span class="location-label">To</span>
                                <span class="location-name">CIT-U Main Campus</span>
                            </div>
                        </div>

                        <div class="ride-meta">
                            <div class="meta-item">
                                <i class="fa-regular fa-calendar"></i>
                                <span>Oct 15, 2025</span>
                            </div>
                            <div class="meta-item">
                                <i class="fa-regular fa-clock"></i>
                                <span>8:30 AM</span>
                            </div>
                        </div>
                    </div>

                    <div class="ride-actions">
                        <div class="seats-available">
                            <i class="fa-solid fa-user-group"></i>
                            <span>1 seat left</span>
                        </div>
                        <button class="btn-request">
                            <i class="fa-solid fa-paper-plane"></i>
                            Request Ride
                        </button>
                    </div>
                </div>
            </div>

            <!-- No Results Message (Hidden by default) -->
            <div class="no-results" id="noResults">
                <div class="no-results-icon">
                    <i class="fa-regular fa-face-frown"></i>
                </div>
                <h3>No Rides Available</h3>
                <p>We couldn't find any rides matching your search criteria. Try adjusting your filters or check back later.</p>
            </div>
        </div>
    {% endblock %}

<script>
    // Set minimum date to today
    const dateInput = document.getElementById('searchDate');
    const today = new Date().toISOString().split('T')[0];
    dateInput.setAttribute('min', today);

    // Search form handler (placeholder for future backend integration)
    document.getElementById('searchForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Placeholder: In a real app, this would filter results
        console.log('Search submitted');
        
        // Example: Show no results (toggle for demonstration)
        // Uncomment to test no results state:
        // document.getElementById('ridesGrid').style.display = 'none';
        // document.getElementById('noResults').classList.add('show');
        // document.getElementById('resultsCount').textContent = 'No rides found';
    });

    // Request ride button handlers
    document.querySelectorAll('.btn-request').forEach(button => {
        button.addEventListener('click', function() {
            // Placeholder for future backend integration
            alert('Ride request feature coming soon!');
        });
    });
</script>